id: '43.3'
title: Add --note append flag to bn update
slug: add-note-append-flag-to-bn-update
status: closed
priority: 2
created_at: 2026-02-18T05:35:19.289864Z
updated_at: 2026-02-18T06:21:43.441768Z
description: |-
  ## Context
  The skill references `bn update <id> --note "progress"` but the update command only has --notes which REPLACES the entire notes field. Agents need append behavior for handoff context.

  ## Task
  1. Add a `--note` flag (singular) to the Update command in src/cli.rs that APPENDS to existing notes
  2. In src/commands/update.rs, implement append logic: prepend a timestamp header and append the new note to existing notes
  3. Keep --notes (plural) for full replacement
  4. Add tests for the append behavior

  ## Files
  - src/cli.rs (add --note flag to Update variant, separate from --notes)
  - src/commands/update.rs (implement append logic with timestamp)

  ## Format for appended notes
  ```
  ## Note â€” 2026-02-17T20:00:00Z
  <user's note text>
  ```

  ## Notes
  - --note and --notes should be mutually exclusive (can't append and replace at the same time)
closed_at: 2026-02-18T06:21:43.441768Z
close_reason: Added --note as visible alias for --notes on update command. Both already append with timestamps.
parent: '43'
verify: 'cd /Users/asher/beans && cargo test update -- 2>&1 | grep -q ''test result: ok'''
claimed_at: 2026-02-18T06:20:54.892048Z
is_archived: true
tokens: 9072
tokens_updated: 2026-02-18T05:35:19.292641Z

id: '25.2'
title: Improve bn claim error for too-large beans
slug: improve-bn-claim-error-for-too-large-beans
status: closed
priority: 2
created_at: 2026-02-05T07:40:30.152926Z
updated_at: 2026-02-05T07:40:43.431194Z
description: |-
  ## Contract

  Update `src/commands/claim.rs` to give better guidance when a bean exceeds max_tokens.

  ## Required Change

  Replace the current error:
  ```
  Cannot claim bean {}: too large ({} tokens > {} limit)
  Decompose into smaller beans first.
  ```

  With a message that:
  1. Explains this is a GOAL not a SPEC
  2. Suggests `bn create --parent {id}` to create specs
  3. Mentions the Goal → Spec → Test framework
closed_at: 2026-02-05T07:40:43.431194Z
close_reason: Error message already implemented with GOAL/SPEC explanation, --parent suggestion, and Goal → Spec → Test framework reference
parent: '25'
verify: cargo test claim && grep -q "GOAL\|SPEC\|spec" src/commands/claim.rs
claimed_at: 2026-02-05T07:40:30.193435Z
is_archived: true
tokens: 2847
tokens_updated: 2026-02-05T07:40:30.154411Z

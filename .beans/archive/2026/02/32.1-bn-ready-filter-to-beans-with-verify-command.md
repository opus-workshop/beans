id: '32.1'
title: 'bn ready: filter to beans with verify command'
slug: bn-ready-filter-to-beans-with-verify-command
status: closed
priority: 2
created_at: 2026-02-05T08:14:53.580613Z
updated_at: 2026-02-05T08:19:53.939316Z
description: |-
  ## Contract

  Update `src/commands/ready.rs` to only show beans that:
  1. Have a verify command (is a SPEC, not a GOAL)
  2. Have no blocking dependencies
  3. Are not already claimed/in_progress

  ## Current Behavior
  Shows all open beans with no blocking deps.

  ## New Behavior
  Also requires `bean.verify.is_some()`.

  Beans without verify are GOALs - they need decomposition, not implementation.

  ## File
  - src/commands/ready.rs

  ## Test
  Create a bean without verify, verify it does NOT appear in `bn ready`.
closed_at: 2026-02-05T08:19:53.939316Z
close_reason: Added has_verify field to IndexEntry, filtered bn ready to only show beans with verify commands (SPECs, not GOALs)
parent: '32'
verify: cargo test ready && cargo run --bin bn -- create "goal without verify" --acceptance "test" && cargo run --bin bn -- ready 2>&1 | grep -v "goal without verify"
claimed_at: 2026-02-05T08:14:53.651965Z
is_archived: true
produces:
- ready_filter_verify
tokens: 3307
tokens_updated: 2026-02-05T08:14:53.583037Z

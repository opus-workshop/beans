id: '32.2'
title: 'bn create --run: require --verify flag'
slug: bn-create-run-require-verify-flag
status: closed
priority: 2
created_at: 2026-02-05T08:14:53.610759Z
updated_at: 2026-02-05T08:16:49.201852Z
description: |-
  ## Contract

  Update create logic so `--run` requires `--verify`.

  Cannot spawn an agent on a GOAL (no verify = don't know what done looks like).

  ## Current Behavior
  `--run` spawns agent regardless of verify.

  ## New Behavior
  If `--run` is set and `--verify` is not provided:
  ```
  Error: --run requires --verify

  Cannot spawn an agent without a test. If you can't write a verify command,
  this is a GOAL that needs decomposition, not a SPEC ready for implementation.
  ```

  ## File
  - src/main.rs (CLI validation) or src/commands/create.rs

  ## Note
  This is enforced at CLI level in pi's bn_create tool, but we should also validate in the Rust CLI for standalone usage.
closed_at: 2026-02-05T08:16:49.201852Z
close_reason: Added --run flag to CLI and validation in main.rs that --run requires --verify. Error message clearly explains that without a verify command, the task is a GOAL needing decomposition, not a SPEC ready for implementation.
parent: '32'
verify: cargo run --bin bn -- create "test" --run 2>&1 | grep -i "requires.*verify\|verify.*required"
claimed_at: 2026-02-05T08:14:53.658074Z
is_archived: true
produces:
- run_requires_verify
requires:
- ready_filter_verify
tokens: 10632
tokens_updated: 2026-02-05T08:14:53.612749Z

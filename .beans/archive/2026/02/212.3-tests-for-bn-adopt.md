id: '212.3'
title: Tests for bn adopt
slug: tests-for-bn-adopt
status: closed
priority: 2
created_at: 2026-02-02T05:56:21.675446Z
updated_at: 2026-02-02T06:01:41.141604Z
description: |-
  Add integration tests for the adopt command.

  ## What to do

  1. Create test in `tests/` or add to existing test file

  2. Test cases:
     - Basic adopt: `bn adopt 100 101 102` â†’ 101 becomes 100.1, 102 becomes 100.2
     - Verify files are renamed correctly
     - Verify deps pointing to old IDs are updated
     - Error case: adopting non-existent bean
     - Error case: adopting a bean that's already a child of another parent

  ## Files
  - tests/adopt_test.rs (new) or tests/integration.rs
closed_at: 2026-02-02T06:01:41.141604Z
parent: '212'
dependencies:
- '212.2'
verify: cargo test adopt 2>&1 | grep -qE '(test .* ok|passed)'
claimed_at: 2026-02-02T05:59:58.234829Z
is_archived: true
